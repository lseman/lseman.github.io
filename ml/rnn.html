<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RNNs — Illustrated Cheatsheet (LSTM · GRU · Encoder–Decoder · Attention)</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- MathJax (v3) -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [["$","$"],["\\(","\\)"]], displayMath: [["$$","$$"],["\\[","\\]"]] },
      chtml: { linebreaks: { automatic: false }, matchFontHeight: true },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre'] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  <style>
    html{scroll-behavior:smooth}
    .lbl{font-size:13px; fill:#374151; font-weight:500}
    .tip{font-size:12px;color:#64748b}
    .gate{fill:#fefefe;stroke:#6366f1;stroke-width:2;rx:12}
    .wire{stroke:#64748b;stroke-width:2.5;fill:none}
    .rail{stroke:#1e293b;stroke-width:3;fill:none}
    .op{fill:#f8fafc;stroke:#6366f1;stroke-width:2}
    .inDot{fill:#dbeafe;stroke:#3b82f6;stroke-width:2}
    .stateDot{fill:#dcfce7;stroke:#22c55e;stroke-width:2}
    .peephole{stroke:#94a3b8;stroke-dasharray:6 4;stroke-width:2;fill:none}
    .card{backdrop-filter: blur(4px)}
    .sigmoid{fill:#fef3c7;stroke:#f59e0b;stroke-width:2}
    .tanh-gate{fill:#f0f9ff;stroke:#0ea5e9;stroke-width:2}
    .multiply{fill:#fef2f2;stroke:#ef4444;stroke-width:2}
    .add{fill:#f0fdf4;stroke:#22c55e;stroke-width:2}
  </style>
</head>
<body class="min-h-screen text-slate-800 bg-slate-50">

<!-- ======= Header ======= -->
<header class="bg-gradient-to-tr from-indigo-50 via-emerald-50 to-cyan-50 border-b border-slate-200">
  <div class="max-w-7xl mx-auto px-6 py-12 lg:py-16">
    <div class="flex flex-col lg:flex-row items-center gap-8">
      <div class="flex-1">
        <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight text-slate-900">RNNs — <span class="text-indigo-600">Illustrated Cheatsheet</span></h1>
        <p class="mt-3 text-lg md:text-xl text-slate-700 max-w-2xl">Single-file reference for <b>LSTM</b>, <b>GRU</b>, and <b>Encoder→Decoder</b> (with attention). Compact textbook-style schematics + equations.</p>
        <div class="mt-5 flex flex-wrap gap-3">
          <a href="#lstm" class="px-5 py-3 rounded-xl bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700">LSTM</a>
          <a href="#gru" class="px-5 py-3 rounded-xl bg-white ring-1 ring-slate-200 shadow-sm font-semibold hover:bg-slate-50">GRU</a>
          <a href="#encdec" class="px-5 py-3 rounded-xl bg-white ring-1 ring-slate-200 shadow-sm font-semibold hover:bg-slate-50">Encoder/Decoder</a>
          <a href="#attention" class="px-5 py-3 rounded-xl bg-white ring-1 ring-slate-200 shadow-sm font-semibold hover:bg-slate-50">Attention</a>
        </div>
        <p class="mt-4 text-sm text-slate-500">MathJax • Tailwind • Pure SVG diagrams • No build step</p>
      </div>
    </div>
  </div>
</header>

<!-- ======= LSTM ======= -->
<section id="lstm" class="py-10">
  <div class="max-w-7xl mx-auto px-6 grid lg:grid-cols-2 gap-6">
    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h2 class="text-2xl font-bold">LSTM — Equations</h2>
      <div class="text-sm text-slate-700 leading-7 mt-2 math-nowrap">
        $$\begin{aligned}
          i_t &= \sigma(W_i x_t + U_i h_{t-1} + b_i), & f_t &= \sigma(W_f x_t + U_f h_{t-1} + b_f) \\
          o_t &= \sigma(W_o x_t + U_o h_{t-1} + b_o), & \tilde{c}_t &= \tanh(W_c x_t + U_c h_{t-1} + b_c) \\
          c_t &= f_t \odot c_{t-1} + i_t \odot \tilde{c}_t, & h_t &= o_t \odot \tanh(c_t)
        \end{aligned}$$
      </div>
      <ul class="mt-3 text-sm text-slate-700 list-disc ml-5">
        <li>Peepholes (optional): dotted arrows from $c_{t-1}$ to $i,f,o$.</li>
        <li>Use <span class="font-semibold">LayerNorm LSTM</span> or <span class="font-semibold">RMSProp/Adam</span> for stability; clip grads ≈ <span class="code">1.0</span>.</li>
      </ul>
    </article>

    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h3 class="text-xl font-semibold mb-2">LSTM — Fully Wired Cell</h3>
      <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<img src="lstm-3.svg" alt="LSTM Fully Wired Cell Diagram" class="w-full h-auto">

      <p class="tip mt-2">Information flows: Cell state (thick line) carries long-term memory, gates control information flow.</p>
    </article>
  </div>
</section>

<!-- ======= GRU ======= -->
<section id="gru" class="py-10">
  <div class="max-w-7xl mx-auto px-6 grid lg:grid-cols-2 gap-6">
    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h2 class="text-2xl font-bold">GRU — Equations</h2>
      <div class="text-sm text-slate-700 leading-7 mt-2 math-nowrap">
        $$\begin{aligned}
          z_t &= \sigma(W_z x_t + U_z h_{t-1}), & r_t &= \sigma(W_r x_t + U_r h_{t-1}) \\
          \tilde h_t &= \tanh(W_h x_t + U_h (r_t \odot h_{t-1})), & h_t &= (1-z_t)\odot h_{t-1} + z_t\odot\tilde h_t
        \end{aligned}$$
      </div>
      <ul class="mt-3 text-sm text-slate-700 list-disc ml-5">
        <li>No explicit cell state; a single hidden state $h_t$.</li>
        <li>Often trains faster than LSTM with similar quality for many tasks.</li>
      </ul>
    </article>

    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h3 class="text-xl font-semibold mb-2">GRU — Fully Wired Cell</h3>
   <img src="gru-3.svg" alt="LSTM Fully Wired Cell Diagram" class="w-full h-auto">
      <p class="tip mt-2">Reset gate controls how much past information to use; update gate balances old vs new information.</p>
    </article>
  </div>
</section>
<!-- ======= Encoder / Decoder (Upgraded) ======= -->
<section id="encdec" class="py-10 bg-slate-50">
  <div class="max-w-7xl mx-auto px-6 grid xl:grid-cols-1 lg:grid-cols-1 gap-6">
    <!-- ========== 1) Vanilla Seq2Seq ========== -->
    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h2 class="text-2xl font-bold">Encoder→Decoder (Vanilla)</h2>
      <p class="text-sm text-slate-700 mt-2">
        Fixed-length context vector (bottleneck) passed from encoder to decoder.
      </p>
      <svg viewBox="0 0 820 300" class="w-full h-auto mt-4">
        <defs>
          <marker id="arrC" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,8 L8,4 z" fill="#64748b"/>
          </marker>
          <linearGradient id="encGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#fef3c7"/><stop offset="100%" style="stop-color:#fde68a"/>
          </linearGradient>
          <linearGradient id="decGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#dbeafe"/><stop offset="100%" style="stop-color:#bfdbfe"/>
          </linearGradient>
        </defs>

        <!-- Inputs -->
        <g class="inDot">
          <circle cx="80" cy="36" r="10"/><circle cx="200" cy="36" r="10"/><circle cx="320" cy="36" r="10"/>
        </g>
        <text x="100" y="56" class="lbl" text-anchor="middle">x₁</text>
        <text x="220" y="56" class="lbl" text-anchor="middle">x₂</text>
        <text x="340" y="56" class="lbl" text-anchor="middle">x₃</text>

        <!-- Encoder cells -->
        <g>
          <rect x="40" y="72" width="80" height="52" fill="url(#encGrad)" stroke="#f59e0b" stroke-width="2" rx="10"/>
          <rect x="160" y="72" width="80" height="52" fill="url(#encGrad)" stroke="#f59e0b" stroke-width="2" rx="10"/>
          <rect x="280" y="72" width="80" height="52" fill="url(#encGrad)" stroke="#f59e0b" stroke-width="2" rx="10"/>
          <text x="80"  y="103" class="lbl" text-anchor="middle">Enc</text>
          <text x="200" y="103" class="lbl" text-anchor="middle">Enc</text>
          <text x="320" y="103" class="lbl" text-anchor="middle">Enc</text>
        </g>

        <!-- Encoder wiring -->
        <g class="wire" marker-end="url(#arrC)">
          <path d="M80,46 V72"/><path d="M200,46 V72"/><path d="M320,46 V72"/>
          <path d="M120,98 H160"/><path d="M240,98 H280"/>
        </g>

        <!-- Context -->
        <rect x="430" y="72" width="110" height="52" class="gate" rx="10"/>
        <text x="485" y="103" class="lbl" text-anchor="middle">Context</text>
        <path class="wire" marker-end="url(#arrC)" d="M360,98 H430"/>

        <!-- Decoder cells (right-to-left for time) -->
        <g>
          <rect x="690" y="160" width="80" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <rect x="570" y="160" width="80" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <rect x="450" y="160" width="80" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <text x="730" y="191" class="lbl" text-anchor="middle">Dec</text>
          <text x="610" y="191" class="lbl" text-anchor="middle">Dec</text>
          <text x="490" y="191" class="lbl" text-anchor="middle">Dec</text>
        </g>

        <!-- Decoder wiring -->
        <g class="wire" marker-end="url(#arrC)">
          <path d="M485,124 V160"/>
          <path d="M530,186 H570"/><path d="M650,186 H690"/><path d="M770,186 H790"/>
        </g>

        <!-- Output token -->
        <g class="stateDot"><circle cx="800" cy="186" r="10"/></g>
        <text x="800" y="206" class="lbl" text-anchor="middle">ŷ</text>

        <!-- Labels -->
        <text x="200" y="140" class="text-sm font-semibold" text-anchor="middle" fill="#f59e0b">ENCODER</text>
        <text x="610" y="230" class="text-sm font-semibold" text-anchor="middle" fill="#3b82f6">DECODER</text>
      </svg>
      <p class="tip mt-2">Bottleneck risk: long inputs must compress into a single vector.</p>
    </article>

    <!-- ========== 2) Attention (Improved) ========== -->
   <!-- ========== 2) Attention (Improved) ========== -->
<article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
  <h2 class="text-2xl font-bold">Encoder→Decoder with Attention</h2>
  <p class="text-sm text-slate-700 mt-2">Decoder forms a per-step weighted sum of encoder states via <em>q•K</em>, softmax weights, and V.</p>
  <img src="attention.svg">
  <div class="text-sm text-slate-700 leading-7 mt-3">
    \( \mathrm{Attn}(q,K,V)=\mathrm{softmax}\!\big(\tfrac{qK^\top}{\sqrt{d}}\big)V \) &nbsp; (shown as mini heatmap → weighted sum).
  </div>
  <p class="tip mt-2">Line thickness encodes attention weight; here the middle state (h₂) dominates.</p>
</article>
    <!-- ========== 3) Decoder Input Modes: Teacher Forcing vs Free-Running ========== -->
    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h2 class="text-2xl font-bold">Decoder Input Modes</h2>
      <p class="text-sm text-slate-700 mt-2">Training with <b>teacher forcing</b> vs inference with <b>free-running</b> (autoregressive).</p>

      <!-- Teacher Forcing -->
      <h3 class="text-lg font-semibold mt-4">Teacher Forcing (Training)</h3>
      <svg viewBox="0 0 820 200" class="w-full h-auto mt-2">
        <defs>
          <marker id="arrTF" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,8 L8,4 z" fill="#fb923c"/>
          </marker>
          <marker id="arrDec" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,8 L8,4 z" fill="#64748b"/>
          </marker>
        </defs>

        <!-- Ground-truth tokens -->
        <g>
          <circle cx="150" cy="36" r="10" fill="#fb923c"/><text x="150" y="56" class="lbl" text-anchor="middle">y₀</text>
          <circle cx="270" cy="36" r="10" fill="#fb923c"/><text x="270" y="56" class="lbl" text-anchor="middle">y₁</text>
          <circle cx="390" cy="36" r="10" fill="#fb923c"/><text x="390" y="56" class="lbl" text-anchor="middle">y₂</text>
        </g>

        <!-- Decoder cells -->
        <g>
          <rect x="240" y="90" width="100" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <rect x="360" y="90" width="100" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <rect x="480" y="90" width="100" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <text x="290" y="121" class="lbl" text-anchor="middle">Dec t=1</text>
          <text x="410" y="121" class="lbl" text-anchor="middle">Dec t=2</text>
          <text x="530" y="121" class="lbl" text-anchor="middle">Dec t=3</text>
        </g>

        <!-- Teacher forcing arrows (dashed orange from y_{t-1}) -->
        <g class="wire dash" marker-end="url(#arrTF)" stroke="#fb923c">
          <path d="M150,46 C190,70 260,70 290,90"/>
          <path d="M270,46 C310,70 380,70 410,90"/>
          <path d="M390,46 C430,70 500,70 530,90"/>
        </g>

        <!-- Outputs -->
        <g class="lbl">
          <text x="350" y="136" text-anchor="middle">ŷ₁</text>
          <text x="470" y="136" text-anchor="middle">ŷ₂</text>
          <text x="590" y="136" text-anchor="middle">ŷ₃</text>
        </g>

        <!-- Forward decode connections -->
        <g class="wire" marker-end="url(#arrDec)">
          <path d="M340,116 H360"/><path d="M460,116 H480"/><path d="M580,116 H600"/>
        </g>

        <text x="410" y="180" class="text-sm font-medium" text-anchor="middle" fill="#fb923c">
          Use ground-truth previous token as decoder input → faster/steadier training.
        </text>
      </svg>

      <!-- Free-Running -->
      <h3 class="text-lg font-semibold mt-6">Free-Running (Inference)</h3>
      <svg viewBox="0 0 820 200" class="w-full h-auto mt-2">
        <defs>
          <marker id="arrFR" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,8 L8,4 z" fill="#3b82f6"/>
          </marker>
        </defs>

        <!-- Start token -->
        <g><circle cx="150" cy="36" r="10" fill="#0ea5e9"/><text x="150" y="56" class="lbl" text-anchor="middle">&lt;bos&gt;</text></g>

        <!-- Decoder cells -->
        <g>
          <rect x="240" y="90" width="100" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <rect x="360" y="90" width="100" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <rect x="480" y="90" width="100" height="52" fill="url(#decGrad)" stroke="#3b82f6" stroke-width="2" rx="10"/>
          <text x="290" y="121" class="lbl" text-anchor="middle">Dec t=1</text>
          <text x="410" y="121" class="lbl" text-anchor="middle">Dec t=2</text>
          <text x="530" y="121" class="lbl" text-anchor="middle">Dec t=3</text>
        </g>

        <!-- Autoregressive feedback (solid blue from previous prediction) -->
        <g class="wire" marker-end="url(#arrFR)" stroke="#3b82f6">
          <path d="M150,6 C190,70 260,70 290,90"/>
          <path d="M340,120 C350,116 360,106 350,76"/>
          <path d="M460,116 C470,116 480,106 470,76"/>
        </g>

        <!-- Predictions -->
        <g class="lbl">
          <text x="350" y="66" text-anchor="middle">ŷ₁</text>
          <text x="470" y="66" text-anchor="middle">ŷ₂</text>
          <text x="600" y="96" text-anchor="middle">ŷ₃</text>
        </g>

        <!-- Forward connections -->
        <g class="wire" marker-end="url(#arrFR)">
          <path d="M340,116 H360"/><path d="M460,116 H480"/><path d="M580,116 H600"/>
        </g>

        <text x="410" y="180" class="text-sm font-medium" text-anchor="middle" fill="#3b82f6">
          Feed previous prediction back as next input → exposure bias may appear.
        </text>
      </svg>

      <!-- Legend -->
      <div class="mt-4 text-xs text-slate-600 grid grid-cols-2 gap-3">
        <div class="flex items-center gap-2">
          <span class="inline-block w-4 h-2 rounded" style="background:#fde68a"></span>
          <span>Encoder / hₜ</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="inline-block w-4 h-2 rounded" style="background:#bfdbfe"></span>
          <span>Decoder / sₜ</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="inline-block w-4 h-0.5 bg-orange-400 border-b border-orange-400" style="border-style:dashed"></span>
          <span>Teacher-forcing input</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="inline-block w-4 h-0.5 bg-blue-500"></span>
          <span>Autoregressive feedback</span>
        </div>
      </div>
    </article>
  </div>
</section>


<!-- ======= Quick Recipes & Tips ======= -->
<section id="recipes" class="py-10">
  <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-3 gap-6">
    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h3 class="text-lg font-semibold flex items-center gap-2">
        <div class="w-4 h-4 bg-gradient-to-br from-blue-400 to-blue-600 rounded"></div>
        Seq Classification
      </h3>
      <ul class="mt-3 text-sm text-slate-700 space-y-2">
        <li><strong>Architecture:</strong> Embed → BiLSTM(128) → Pool(last/max) → Dense(ℓ2) → Dense(C) softmax</li>
        <li><strong>Training:</strong> AdamW 1e-3, dropout 0.3, grad clip 1.0</li>
        <li><strong>Data:</strong> Pad sequences, use attention pooling for variable lengths</li>
      </ul>
    </article>
    
    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h3 class="text-lg font-semibold flex items-center gap-2">
        <div class="w-4 h-4 bg-gradient-to-br from-green-400 to-green-600 rounded"></div>
        Seq2Seq (w/ Attn)
      </h3>
      <ul class="mt-3 text-sm text-slate-700 space-y-2">
        <li><strong>Architecture:</strong> 2×BiGRU encoder → GRU decoder with dot-product attention</li>
        <li><strong>Training:</strong> Teacher forcing, label smoothing 0.1, scheduled sampling</li>
        <li><strong>Inference:</strong> Beam search (width=4), length penalty</li>
      </ul>
    </article>
    
    <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
      <h3 class="text-lg font-semibold flex items-center gap-2">
        <div class="w-4 h-4 bg-gradient-to-br from-purple-400 to-purple-600 rounded"></div>
        Time Series Forecasting
      </h3>
      <ul class="mt-3 text-sm text-slate-700 space-y-2">
        <li><strong>Architecture:</strong> Windowed inputs → LSTM(64) → Dense(k) for k-step horizon</li>
        <li><strong>Training:</strong> RMSProp/Adam, early stopping on validation loss</li>
        <li><strong>Data:</strong> Normalize features, handle missing values, use sliding windows</li>
      </ul>
    </article>
  </div>
</section>

<!-- ======= Architecture Comparison ======= -->
<section id="comparison" class="py-10 bg-slate-50">
  <div class="max-w-7xl mx-auto px-6">
    <h2 class="text-3xl font-bold text-center mb-8">Architecture Comparison</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
        <h3 class="text-xl font-semibold text-blue-600 mb-4">LSTM</h3>
        <div class="space-y-3 text-sm text-slate-700">
          <div><strong>Memory:</strong> Separate cell state + hidden state</div>
          <div><strong>Gates:</strong> Input, Forget, Output + Candidate</div>
          <div><strong>Pros:</strong> Best for very long sequences, stable gradients</div>
          <div><strong>Cons:</strong> More parameters, slower training</div>
          <div><strong>Use when:</strong> Long-term dependencies critical</div>
        </div>
      </article>
      
      <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
        <h3 class="text-xl font-semibold text-green-600 mb-4">GRU</h3>
        <div class="space-y-3 text-sm text-slate-700">
          <div><strong>Memory:</strong> Single hidden state</div>
          <div><strong>Gates:</strong> Update, Reset + Candidate</div>
          <div><strong>Pros:</strong> Faster training, fewer parameters</div>
          <div><strong>Cons:</strong> May struggle with very long sequences</div>
          <div><strong>Use when:</strong> Moderate sequences, speed matters</div>
        </div>
      </article>
      
      <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
        <h3 class="text-xl font-semibold text-purple-600 mb-4">Attention</h3>
        <div class="space-y-3 text-sm text-slate-700">
          <div><strong>Memory:</strong> Access to all encoder states</div>
          <div><strong>Mechanism:</strong> Query-Key-Value attention</div>
          <div><strong>Pros:</strong> No information bottleneck, interpretable</div>
          <div><strong>Cons:</strong> Quadratic complexity in sequence length</div>
          <div><strong>Use when:</strong> Seq2seq tasks, alignment important</div>
        </div>
      </article>
    </div>
  </div>
</section>

<!-- ======= Common Pitfalls & Solutions ======= -->
<section id="pitfalls" class="py-10">
  <div class="max-w-7xl mx-auto px-6">
    <h2 class="text-3xl font-bold text-center mb-8">Common Pitfalls & Solutions</h2>
    <div class="grid lg:grid-cols-2 gap-6">
      <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
        <h3 class="text-xl font-semibold text-red-600 mb-4">⚠️ Training Issues</h3>
        <div class="space-y-4">
          <div class="border-l-4 border-red-200 pl-4">
            <strong class="text-red-700">Vanishing Gradients</strong>
            <p class="text-sm text-slate-600 mt-1">Use LSTM/GRU, gradient clipping, skip connections, or residual connections</p>
          </div>
          <div class="border-l-4 border-red-200 pl-4">
            <strong class="text-red-700">Exploding Gradients</strong>
            <p class="text-sm text-slate-600 mt-1">Clip gradients to max norm 1.0-5.0, use gradient scaling</p>
          </div>
          <div class="border-l-4 border-red-200 pl-4">
            <strong class="text-red-700">Slow Convergence</strong>
            <p class="text-sm text-slate-600 mt-1">Try LayerNorm, better initialization (Xavier/He), learning rate scheduling</p>
          </div>
        </div>
      </article>
      
      <article class="bg-white border border-slate-200 rounded-2xl p-6 shadow card">
        <h3 class="text-xl font-semibold text-green-600 mb-4">✅ Best Practices</h3>
        <div class="space-y-4">
          <div class="border-l-4 border-green-200 pl-4">
            <strong class="text-green-700">Regularization</strong>
            <p class="text-sm text-slate-600 mt-1">Dropout (0.2-0.5), weight decay, early stopping on validation loss</p>
          </div>
          <div class="border-l-4 border-green-200 pl-4">
            <strong class="text-green-700">Data Preprocessing</strong>
            <p class="text-sm text-slate-600 mt-1">Normalize inputs, handle variable lengths with padding/masking</p>
          </div>
          <div class="border-l-4 border-green-200 pl-4">
            <strong class="text-green-700">Optimization</strong>
            <p class="text-sm text-slate-600 mt-1">Adam/AdamW with warm-up, cosine annealing, gradient accumulation</p>
          </div>
        </div>
      </article>
    </div>
  </div>
</section>

<!-- ======= Footer ======= -->
<footer class="py-10 bg-slate-900 text-slate-200">
  <div class="max-w-7xl mx-auto px-6">
    <div class="flex flex-col md:flex-row items-center justify-between gap-4">
      <p class="text-sm">© <span id="year"></span> RNNs Cheatsheet — Comprehensive Visual Reference</p>
      <div class="text-xs text-slate-400">Tailwind • MathJax • Pure SVG • Responsive Design</div>
    </div>
    <div class="mt-4 pt-4 border-t border-slate-700 text-center text-xs text-slate-400">
      Covers LSTM, GRU, Encoder-Decoder, and Attention mechanisms with detailed diagrams and practical implementation tips
    </div>
  </div>
</footer>

<script>
  // Footer year
  document.addEventListener('DOMContentLoaded', () => {
    const y = document.getElementById('year'); 
    if (y) y.textContent = new Date().getFullYear();
    
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  });
</script>

</body>
</html>